src.rag_toolkit.infra.parsers
=============================

.. py:module:: src.rag_toolkit.infra.parsers

.. autoapi-nested-parse::

   Infrastructure - Document parsing implementations.

   This module contains concrete implementations of parsers for various document formats.
   Use the factory to create fully configured services.



Submodules
----------

.. toctree::
   :maxdepth: 1

   /autoapi/src/rag_toolkit/infra/parsers/docx/index
   /autoapi/src/rag_toolkit/infra/parsers/factory/index
   /autoapi/src/rag_toolkit/infra/parsers/pdf/index
   /autoapi/src/rag_toolkit/infra/parsers/text/index


Functions
---------

.. autoapisummary::

   src.rag_toolkit.infra.parsers.create_ingestion_service
   src.rag_toolkit.infra.parsers.create_lightweight_ingestion_service


Package Contents
----------------

.. py:function:: create_ingestion_service(*, enable_ocr = True, detect_headings = True, detect_tables = True, ocr_text_threshold = 200, lang_model_path = None, lang_max_chars = 5000)

   Create a fully configured IngestionService with production implementations.

   This is the recommended way to instantiate IngestionService for production use.
   All concrete implementations are wired together here.

   :param enable_ocr: Whether to enable OCR for image-based PDFs (default: True)
   :param detect_headings: Whether to detect heading structures in PDFs (default: True)
   :param detect_tables: Whether to detect tables in PDFs (default: True)
   :param ocr_text_threshold: Minimum text chars before skipping OCR (default: 200)
   :param lang_model_path: Optional path to fastText language model
   :param lang_max_chars: Max characters for language detection (default: 5000)

   :returns: Configured IngestionService ready to parse documents

   .. admonition:: Example

      >>> from rag_toolkit.infra.parsers.factory import create_ingestion_service
      >>> service = create_ingestion_service(enable_ocr=True)
      >>> result = service.parse_document("document.pdf")
      >>> print(result["language"])
      'en'


.. py:function:: create_lightweight_ingestion_service()

   Create a lightweight IngestionService without OCR or language detection.

   Useful for testing or when processing text-based documents only.

   :returns: Minimal IngestionService configuration


