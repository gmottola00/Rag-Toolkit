vector
======

.. py:module:: vector

.. autoapi-nested-parse::

   Milvus vector store utilities.



Submodules
----------

.. toctree::
   :maxdepth: 1

   /autoapi/vector/collection/index
   /autoapi/vector/config/index
   /autoapi/vector/connection/index
   /autoapi/vector/data/index
   /autoapi/vector/database/index
   /autoapi/vector/exceptions/index
   /autoapi/vector/explorer/index
   /autoapi/vector/service/index


Exceptions
----------

.. autoapisummary::

   vector.VectorStoreError
   vector.ConfigurationError
   vector.ConnectionError
   vector.CollectionError
   vector.DataOperationError


Classes
-------

.. autoapisummary::

   vector.MilvusConfig
   vector.MilvusConnectionManager
   vector.MilvusCollectionManager
   vector.MilvusDatabaseManager
   vector.MilvusDataManager
   vector.MilvusService


Package Contents
----------------

.. py:class:: MilvusConfig

   Milvus connection configuration.


   .. py:attribute:: uri
      :type:  str


   .. py:attribute:: alias
      :type:  str
      :value: 'default'



   .. py:attribute:: user
      :type:  Optional[str]
      :value: None



   .. py:attribute:: password
      :type:  Optional[str]
      :value: None



   .. py:attribute:: db_name
      :type:  str
      :value: 'default'



   .. py:attribute:: secure
      :type:  bool
      :value: False



   .. py:attribute:: timeout
      :type:  Optional[float]
      :value: None



.. py:class:: MilvusConnectionManager(config)

   Manage a singleton MilvusClient connection.


   .. py:attribute:: config


   .. py:method:: connect()

      Instantiate the MilvusClient if not already created.



   .. py:method:: ensure()

      Ensure an active client.



   .. py:property:: client
      :type: pymilvus.MilvusClient



   .. py:method:: disconnect()

      MilvusClient does not expose an explicit disconnect; noop kept for API symmetry.



   .. py:method:: get_alias()

      Return the logical alias (kept for backward compatibility).



.. py:class:: MilvusCollectionManager(connection)

   Create, drop, and manage Milvus collections using MilvusClient.


   .. py:attribute:: connection


   .. py:property:: client
      :type: pymilvus.MilvusClient



   .. py:method:: ensure_collection(name, schema, *, index_params = None, load = True, shards_num = 2)

      Create the collection if missing; optionally create index and load.



   .. py:method:: drop_collection(name)

      Drop a collection if it exists.



   .. py:method:: load(name)

      Load a collection into memory.



   .. py:method:: release(name)

      Release a collection from memory.



   .. py:method:: create_index(name, field_name, index_params)

      Create an index on a field.



.. py:class:: MilvusDatabaseManager(connection)

   Manage Milvus databases/spaces.


   .. py:attribute:: connection


   .. py:method:: list_databases()

      List available databases.



   .. py:method:: create_database(name)

      Create a database if it does not exist.



   .. py:method:: drop_database(name, *, force = False)

      Drop a database.



.. py:class:: MilvusDataManager(connection)

   Perform data-level operations on Milvus collections.


   .. py:attribute:: connection


   .. py:property:: client


   .. py:method:: insert(collection_name, data, *, partition_name = None, timeout = None)

      Insert entities into a collection.



   .. py:method:: upsert(collection_name, data, *, partition_name = None, timeout = None)

      Upsert entities if supported; fallback to insert.



   .. py:method:: delete(collection_name, expr, *, timeout = None)

      Delete entities matching an expression.



   .. py:method:: search(collection_name, data, anns_field, param, limit, *, output_fields = None, expr = None, partition_names = None, timeout = None, consistency_level = None)

      Perform a vector search.



   .. py:method:: query(collection_name, expr, *, output_fields = None, limit = None, offset = None, timeout = None, consistency_level = None)

      Run a scalar query on a collection.



   .. py:method:: flush(collection_name)

      Flush pending data to storage.



.. py:class:: MilvusService(config)

   Compose Milvus managers into a cohesive service.


   .. py:attribute:: connection


   .. py:attribute:: databases


   .. py:attribute:: collections


   .. py:attribute:: data


   .. py:attribute:: explorer


   .. py:method:: ensure_database(name)

      Ensure a database exists.



   .. py:method:: ensure_collection(name, schema, **kwargs)

      Ensure a collection exists and is loaded.



   .. py:method:: drop_collection(name)

      Drop a collection if present.



   .. py:method:: insert(collection_name, data, **kwargs)

      Insert rows into a collection.



   .. py:method:: search(collection_name, vectors, anns_field, param, limit, **kwargs)

      Run a vector search.



.. py:exception:: VectorStoreError

   Bases: :py:obj:`RuntimeError`


   Base exception for vector store failures.


.. py:exception:: ConfigurationError

   Bases: :py:obj:`VectorStoreError`


   Configuration-related errors.


.. py:exception:: ConnectionError

   Bases: :py:obj:`VectorStoreError`


   Raised when connection to Milvus fails.


.. py:exception:: CollectionError

   Bases: :py:obj:`VectorStoreError`


   Raised when collection operations fail.


.. py:exception:: DataOperationError

   Bases: :py:obj:`VectorStoreError`


   Raised when data-level operations fail.


